//深度优先搜索
// var numIslands = function(grid) {
//     let size=grid[0].length;
//     let num=0;
//     for(let i = 0;i<grid.length;i++) {
//         for(let j = 0; j<size;j++) {
//             if(grid[i][j]==="1") {
//                 num++;
//                 dfs(grid,i,j);
//             }
//         }
//     }
//     return num;
// };
// function dfs(grid,i,j) {
//     grid[i][j]='0';
//     if(i<grid.length-1&&grid[i+1][j]==='1') {
//         dfs(grid,i+1,j)
//     }
//     if(i-1>=0&&grid[i-1][j]==='1') {
//         dfs(grid,i-1,j)
//     }
//     if(j<grid[i].length-1&&grid[i][j+1]==='1') {
//         dfs(grid,i,j+1)
//     }
//     if(j-1>=0&&grid[i][j-1]==='1') {
//         dfs(grid,i,j-1);
//     }
//
//
// }
//广度优先搜索（这种方法超时咯）
// var numIslands = function(grid) {
//     let size=grid[0].length;
//     let num=0;
//     for(let i = 0;i<grid.length;i++) {
//         for(let j = 0; j<size;j++) {
//             if(grid[i][j]==="1") {
//                 num++;
//                 bfs(grid,i,j);
//             }
//         }
//     }
//     return num;
// };
// function bfs(grid,i,j) {
//     let queue=[];
//     queue.push([i,j]);
//     while(queue.length) {
//         let array=queue.shift();
//         let i=array[0];
//         let j=array[1];
//         grid[i][j]='0';
//         if(i<grid.length-1&&grid[i+1][j]==="1") {
//             queue.push([i+1,j]);
//         }
//         if(i-1>=0&&grid[i-1][j]==='1') {
//             queue.push([i-1,j]);
//         }
//         if(j<grid[i].length-1&&grid[i][j+1]==="1") {
//             queue.push([i,j+1]);
//         }
//         if(j-1>=0&&grid[i][j-1]==='1') {
//             queue.push([i,j-1]);
//         }
//
//     }
// }
// let grid = [["1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","0","1","0","1","1"],["0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0"],["1","0","1","1","1","0","0","1","1","0","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","0","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","0","1","1","1","1","1","1","0","1","1","1","0","1","1","1","0","1","1","1"],["0","1","1","1","1","1","1","1","1","1","1","1","0","1","1","0","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","1","1"],["1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1"],["1","0","1","1","1","1","1","0","1","1","1","0","1","1","1","1","0","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","0"],["1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","0"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"]]
//
// console.log(numIslands(grid))
//广度优先搜索
var numIslands = function(grid) {
    let size=grid[0].length;
    let queue=[];
    let num=0;
    for(let i = 0;i<grid.length;i++) {
        for(let j = 0; j<size;j++) {
            if(grid[i][j]==="1") {
                grid[i][j]='0'
                queue.push([i,j])
                num++;
                bfs(grid,queue);
            }
        }
    }
    return num;
};

function bfs(grid,queue) {
    const directions=[[1,0],[-1,0],[0,1],[0,-1]];
    while(queue.length) {
        let current_direction=queue.shift();
        for(let dir of directions) {
            let x=current_direction[0]+dir[0];
            let y=current_direction[1]+dir[1];
            if(x<0||y<0||x>=grid.length||y>=grid[0].length||grid[x][y]!=='1') {
                continue;
            }
            grid[x][y]='0';
            queue.push([x,y]);

        }
    }
}

let grid = [["1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","0","1","0","1","1"],["0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0"],["1","0","1","1","1","0","0","1","1","0","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","0","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","0","1","1","1","1","1","1","0","1","1","1","0","1","1","1","0","1","1","1"],["0","1","1","1","1","1","1","1","1","1","1","1","0","1","1","0","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","1","1"],["1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1"],["1","0","1","1","1","1","1","0","1","1","1","0","1","1","1","1","0","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","0"],["1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","0"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"]]

console.log(numIslands(grid));